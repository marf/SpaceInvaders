<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>Space Invaders: GameManager.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Space Invaders
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">GameManager.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="Data_8h_source.html">Data.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for GameManager.h:</div>
<div class="dyncontent">
<div class="center"><img src="GameManager_8h__incl.png" border="0" usemap="#GameManager_8h" alt=""/></div>
<map name="GameManager_8h" id="GameManager_8h">
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="GameManager_8h__dep__incl.png" border="0" usemap="#GameManager_8hdep" alt=""/></div>
<map name="GameManager_8hdep" id="GameManager_8hdep">
</map>
</div>
</div>
<p><a href="GameManager_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a1fbd76de8faf2a0b9555972a05caac2d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="GameManager_8h.html#a1fbd76de8faf2a0b9555972a05caac2d">InitGame</a> (<a class="el" href="structGame.html">Game</a> &amp;game, <a class="el" href="structPlayer.html">Player</a> &amp;player)</td></tr>
<tr class="memdesc:a1fbd76de8faf2a0b9555972a05caac2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes all the allegro's components including keybord, a display, a queue, four timers, a font and all the bitmaps.  <a href="#a1fbd76de8faf2a0b9555972a05caac2d">More...</a><br /></td></tr>
<tr class="separator:a1fbd76de8faf2a0b9555972a05caac2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ca5462a9b9ad441b82770ce6ae2133d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="GameManager_8h.html#a7ca5462a9b9ad441b82770ce6ae2133d">InitBackgrounds</a> (<a class="el" href="structGame.html">Game</a> &amp;game)</td></tr>
<tr class="memdesc:a7ca5462a9b9ad441b82770ce6ae2133d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the backgrounds for the parallax effect.  <a href="#a7ca5462a9b9ad441b82770ce6ae2133d">More...</a><br /></td></tr>
<tr class="separator:a7ca5462a9b9ad441b82770ce6ae2133d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ec3f8b608c30564c8ab4adbf50bbc5f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="GameManager_8h.html#a1ec3f8b608c30564c8ab4adbf50bbc5f">EventManager</a> (<a class="el" href="structPlayer.html">Player</a> &amp;player, <a class="el" href="structGame.html">Game</a> &amp;game, bool keys[], bool &amp;Exit, bool &amp;Draw)</td></tr>
<tr class="memdesc:a1ec3f8b608c30564c8ab4adbf50bbc5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle all the input and timers events of the game.  <a href="#a1ec3f8b608c30564c8ab4adbf50bbc5f">More...</a><br /></td></tr>
<tr class="separator:a1ec3f8b608c30564c8ab4adbf50bbc5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa90dc09726aeb7838e59622f0f177c8d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="GameManager_8h.html#aa90dc09726aeb7838e59622f0f177c8d">Render</a> (<a class="el" href="structPlayer.html">Player</a> &amp;player, <a class="el" href="structGame.html">Game</a> &amp;game, bool &amp;Draw)</td></tr>
<tr class="memdesc:aa90dc09726aeb7838e59622f0f177c8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Renders every object on the screen by using the double buffer technique.  <a href="#aa90dc09726aeb7838e59622f0f177c8d">More...</a><br /></td></tr>
<tr class="separator:aa90dc09726aeb7838e59622f0f177c8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a1ec7ffcd4aa8d12262244c1e6398ec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="GameManager_8h.html#a6a1ec7ffcd4aa8d12262244c1e6398ec">HandleKeyUp</a> (int KeyCode, <a class="el" href="structGame.html">Game</a> &amp;game, <a class="el" href="structPlayer.html">Player</a> &amp;player, bool keys[], bool &amp;Exit)</td></tr>
<tr class="memdesc:a6a1ec7ffcd4aa8d12262244c1e6398ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the keyup event of a keybord device.  <a href="#a6a1ec7ffcd4aa8d12262244c1e6398ec">More...</a><br /></td></tr>
<tr class="separator:a6a1ec7ffcd4aa8d12262244c1e6398ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b07c1afefa8ce80621b27dd9cd37e12"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="GameManager_8h.html#a8b07c1afefa8ce80621b27dd9cd37e12">HandleKeyDown</a> (int KeyCode, bool keys[])</td></tr>
<tr class="memdesc:a8b07c1afefa8ce80621b27dd9cd37e12"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the keydown event of a keybord device.  <a href="#a8b07c1afefa8ce80621b27dd9cd37e12">More...</a><br /></td></tr>
<tr class="separator:a8b07c1afefa8ce80621b27dd9cd37e12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a497759f95112db1d724c2fffee3f0d2e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="GameManager_8h.html#a497759f95112db1d724c2fffee3f0d2e">DrawScoreBoard</a> (<a class="el" href="structGame.html">Game</a> &amp;game, <a class="el" href="structPlayer.html">Player</a> &amp;player)</td></tr>
<tr class="memdesc:a497759f95112db1d724c2fffee3f0d2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draw the scoreboard including player's points, the maximum record (saved in a file) and player's lifes.  <a href="#a497759f95112db1d724c2fffee3f0d2e">More...</a><br /></td></tr>
<tr class="separator:a497759f95112db1d724c2fffee3f0d2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaac98233874f29cd2c81b88ac53d5c2a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="GameManager_8h.html#aaac98233874f29cd2c81b88ac53d5c2a">UpdateBackgrounds</a> (<a class="el" href="structGame.html">Game</a> &amp;game)</td></tr>
<tr class="memdesc:aaac98233874f29cd2c81b88ac53d5c2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Moves the backgrounds from top to bottom, than it calls <a class="el" href="GameManager_8h.html#af483bca47c69c484c7a26ad7d00e0d87" title="Checks if the background is at the bottom of the screen, in this case the function moves it outside t...">CheckBgLimit</a> to check if background y coord is valid.  <a href="#aaac98233874f29cd2c81b88ac53d5c2a">More...</a><br /></td></tr>
<tr class="separator:aaac98233874f29cd2c81b88ac53d5c2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69eb00b777297db87b41e4ca11e0930a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="GameManager_8h.html#a69eb00b777297db87b41e4ca11e0930a">DrawBackgrounds</a> (<a class="el" href="structGame.html">Game</a> &amp;game)</td></tr>
<tr class="memdesc:a69eb00b777297db87b41e4ca11e0930a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draws backgrounds according to their positions.  <a href="#a69eb00b777297db87b41e4ca11e0930a">More...</a><br /></td></tr>
<tr class="separator:a69eb00b777297db87b41e4ca11e0930a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af483bca47c69c484c7a26ad7d00e0d87"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="GameManager_8h.html#af483bca47c69c484c7a26ad7d00e0d87">CheckBgLimit</a> (<a class="el" href="structTransform.html">Transform</a> &amp;bg)</td></tr>
<tr class="memdesc:af483bca47c69c484c7a26ad7d00e0d87"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the background is at the bottom of the screen, in this case the function moves it outside the top of the screen.  <a href="#af483bca47c69c484c7a26ad7d00e0d87">More...</a><br /></td></tr>
<tr class="separator:af483bca47c69c484c7a26ad7d00e0d87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba097df294371cd35b8e44fcb220669f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="GameManager_8h.html#aba097df294371cd35b8e44fcb220669f">DetectCollisions</a> (<a class="el" href="structPlayer.html">Player</a> &amp;player, <a class="el" href="structGame.html">Game</a> &amp;game)</td></tr>
<tr class="memdesc:aba097df294371cd35b8e44fcb220669f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Detects collisions between enemies and player's bullets, player and enemies, player and powerup and between enemies and plasma barrier by calling <a class="el" href="GameManager_8h.html#ab068d00d1a40ed3c1407f542cc547b4c" title="Detects different collisions. ">DetectCollision</a>.  <a href="#aba097df294371cd35b8e44fcb220669f">More...</a><br /></td></tr>
<tr class="separator:aba097df294371cd35b8e44fcb220669f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab068d00d1a40ed3c1407f542cc547b4c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="GameManager_8h.html#ab068d00d1a40ed3c1407f542cc547b4c">DetectCollision</a> (<a class="el" href="structPlayer.html">Player</a> &amp;player, <a class="el" href="structGame.html">Game</a> &amp;game, int enemyIndex, int bulletIndex=-1)</td></tr>
<tr class="memdesc:ab068d00d1a40ed3c1407f542cc547b4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Detects different collisions.  <a href="#ab068d00d1a40ed3c1407f542cc547b4c">More...</a><br /></td></tr>
<tr class="separator:ab068d00d1a40ed3c1407f542cc547b4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7de1ff07adda835e1d467add21cdbd17"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="GameManager_8h.html#a7de1ff07adda835e1d467add21cdbd17">UpdatePowerUp</a> (<a class="el" href="structGame.html">Game</a> &amp;game, int x, int y, int velocity, bool visible)</td></tr>
<tr class="memdesc:a7de1ff07adda835e1d467add21cdbd17"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes (visible is true) or destroys (visible is false) a power up at the given x and y and with the specified velocity.  <a href="#a7de1ff07adda835e1d467add21cdbd17">More...</a><br /></td></tr>
<tr class="separator:a7de1ff07adda835e1d467add21cdbd17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b947a08ba99971d8f6c6608e9518b60"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="GameManager_8h.html#a2b947a08ba99971d8f6c6608e9518b60">UpdatePowerUpEffect</a> (<a class="el" href="structGame.html">Game</a> &amp;game, bool activated)</td></tr>
<tr class="memdesc:a2b947a08ba99971d8f6c6608e9518b60"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables or disables the powerup effect.  <a href="#a2b947a08ba99971d8f6c6608e9518b60">More...</a><br /></td></tr>
<tr class="separator:a2b947a08ba99971d8f6c6608e9518b60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a345b3f9e9eb268fa6e827ef3c34912ba"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="GameManager_8h.html#a345b3f9e9eb268fa6e827ef3c34912ba">RecordExist</a> ()</td></tr>
<tr class="memdesc:a345b3f9e9eb268fa6e827ef3c34912ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if a previous record exists and returns it.  <a href="#a345b3f9e9eb268fa6e827ef3c34912ba">More...</a><br /></td></tr>
<tr class="separator:a345b3f9e9eb268fa6e827ef3c34912ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd330ec0adc07958ffeba6ae40d6bf14"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="GameManager_8h.html#acd330ec0adc07958ffeba6ae40d6bf14">WriteRecord</a> (const <a class="el" href="structGame.html">Game</a> &amp;game)</td></tr>
<tr class="memdesc:acd330ec0adc07958ffeba6ae40d6bf14"><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves the new record in a file.  <a href="#acd330ec0adc07958ffeba6ae40d6bf14">More...</a><br /></td></tr>
<tr class="separator:acd330ec0adc07958ffeba6ae40d6bf14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3da88101d93b7b2be633a258268a7404"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="GameManager_8h.html#a3da88101d93b7b2be633a258268a7404">QuitGame</a> (<a class="el" href="structPlayer.html">Player</a> &amp;player, <a class="el" href="structGame.html">Game</a> &amp;game)</td></tr>
<tr class="memdesc:a3da88101d93b7b2be633a258268a7404"><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves a new record if we have made one (by calling <a class="el" href="GameManager_8h.html#acd330ec0adc07958ffeba6ae40d6bf14" title="Saves the new record in a file. ">WriteRecord</a>) than destroys everything and quits the game.  <a href="#a3da88101d93b7b2be633a258268a7404">More...</a><br /></td></tr>
<tr class="separator:a3da88101d93b7b2be633a258268a7404"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="af483bca47c69c484c7a26ad7d00e0d87"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CheckBgLimit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTransform.html">Transform</a> &amp;&#160;</td>
          <td class="paramname"><em>bg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if the background is at the bottom of the screen, in this case the function moves it outside the top of the screen. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bg</td><td>a transform that refresents the background that we want to check</td></tr>
  </table>
  </dd>
</dl>
<p>This effect is important because with a pair of backgrounds we create a cycle where the blank space that one background leaves is filled by the other background of the pair. </p>

</div>
</div>
<a class="anchor" id="ab068d00d1a40ed3c1407f542cc547b4c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DetectCollision </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structPlayer.html">Player</a> &amp;&#160;</td>
          <td class="paramname"><em>player</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structGame.html">Game</a> &amp;&#160;</td>
          <td class="paramname"><em>game</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>enemyIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bulletIndex</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Detects different collisions. </p>
<p>The collisions are between an enemy with index enemyIndex and a player's bullet with index bulletIndex (if bulletIndex is different from -1) or between the enemy and the plasma barrier (if it's enabled). If we have a powerup also it checks collisions between the powerup and the player. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">player</td><td>is our current player that we use to detect collisions </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">game</td><td>is used to access to the enemy with index enemyIndex </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">enemyIndex</td><td>is the index of the enemy which we selected for collision </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bulleIndex</td><td>is the index of the player's bullet which we selected for collision (optional, used only while checking collisions if we have bullets)</td></tr>
  </table>
  </dd>
</dl>
<p>If there's a collision we call <a class="el" href="Enemy_8h.html#acbbbd55d86d50c1dd71865212a3ae884" title="Initializes an explosion. ">InitExplosion</a> to initialize an explosion in the position of the collision. If the collision is between the enemy and player's bullet we delete the enemy and the bullet from their lists and add a point to the player. If the collision is between the enemy and the plasma barrier we delete the enemy but we don't spawn another powerup (if that enemy has one), also we add a point to the player. If the collision is between the enemy and the player we kill the player and set the game state to GameOver. If the collision is between the powerup and the player we activate the powerup effect. </p>

</div>
</div>
<a class="anchor" id="aba097df294371cd35b8e44fcb220669f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DetectCollisions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structPlayer.html">Player</a> &amp;&#160;</td>
          <td class="paramname"><em>player</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structGame.html">Game</a> &amp;&#160;</td>
          <td class="paramname"><em>game</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Detects collisions between enemies and player's bullets, player and enemies, player and powerup and between enemies and plasma barrier by calling <a class="el" href="GameManager_8h.html#ab068d00d1a40ed3c1407f542cc547b4c" title="Detects different collisions. ">DetectCollision</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">player</td><td>is our current player that we use to detect collisions </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">game</td><td>is used to access to enemies' positions to detect collisions </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a69eb00b777297db87b41e4ca11e0930a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DrawBackgrounds </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structGame.html">Game</a> &amp;&#160;</td>
          <td class="paramname"><em>game</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draws backgrounds according to their positions. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">game</td><td>is used to access to the backgrounds' list </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a497759f95112db1d724c2fffee3f0d2e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DrawScoreBoard </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structGame.html">Game</a> &amp;&#160;</td>
          <td class="paramname"><em>game</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structPlayer.html">Player</a> &amp;&#160;</td>
          <td class="paramname"><em>player</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draw the scoreboard including player's points, the maximum record (saved in a file) and player's lifes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">game</td><td>is used to access to the points and the record </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">player</td><td>is used to access to player's lifes</td></tr>
  </table>
  </dd>
</dl>
<p>We use a stringstream to easily build a string and than we convert it to a *char. If the game is over or paused we draw a specific bitmap in front of the screen. Record is only displayed if we have played the game at least two times. </p>

</div>
</div>
<a class="anchor" id="a1ec3f8b608c30564c8ab4adbf50bbc5f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EventManager </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structPlayer.html">Player</a> &amp;&#160;</td>
          <td class="paramname"><em>player</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structGame.html">Game</a> &amp;&#160;</td>
          <td class="paramname"><em>game</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>keys</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>Exit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>Draw</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handle all the input and timers events of the game. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">KeyCode</td><td>is the code of the keybord button we have released or pressed </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">game</td><td>is used to init/update enemies and update backgrounds, it is also used to update enemies and explosions' animations </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">player</td><td>is used to move the player, detect collisions and update player's animations </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">keys</td><td>is an array of bool that we use to handle movement </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Exit</td><td>is used to stop and quit the game </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Draw</td><td>is used to draw all the bitmaps and fonts on the screen when the GameTimer event is triggered</td></tr>
  </table>
  </dd>
</dl>
<p>We use GameTimer to update player, bullets, enemies and backgrounds positions. EnemyTimer is used to spawn enemies. FrameTimer is used to update animations. ExplosionTimer is used to update explosions. After all the events are handled we set Draw to true in order to re-draw everything using <a class="el" href="GameManager_8h.html#aa90dc09726aeb7838e59622f0f177c8d" title="Renders every object on the screen by using the double buffer technique. ">Render</a>. </p>

</div>
</div>
<a class="anchor" id="a8b07c1afefa8ce80621b27dd9cd37e12"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HandleKeyDown </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>KeyCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>keys</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handles the keydown event of a keybord device. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">KeyCode</td><td>is the code of the keybord button we have pressed </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">keys</td><td>is an array of bool that we use to set to true a specific move button in order to move the player </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6a1ec7ffcd4aa8d12262244c1e6398ec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HandleKeyUp </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>KeyCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structGame.html">Game</a> &amp;&#160;</td>
          <td class="paramname"><em>game</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structPlayer.html">Player</a> &amp;&#160;</td>
          <td class="paramname"><em>player</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>keys</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>Exit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handles the keyup event of a keybord device. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">KeyCode</td><td>is the code of the keybord button we have released </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">game</td><td>is used to pause the game or to clear the enemies if we have restarted the game </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">player</td><td>is used to save the direction of the player to NONE if we release a keybord's button which triggers a moving action </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">keys</td><td>is an array of bool that we use to set to false the pressed state of the keys used for the moving actions </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Exit</td><td>is used to stop and quit the game </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7ca5462a9b9ad441b82770ce6ae2133d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InitBackgrounds </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structGame.html">Game</a> &amp;&#160;</td>
          <td class="paramname"><em>game</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the backgrounds for the parallax effect. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">game</td><td>is used to access to the backgrounds</td></tr>
  </table>
  </dd>
</dl>
<p>Every background is a pair and the main one of them is the first object of the pair. The main background of each pair is drawn in front of the screen, while the other is drawn outside the screen game.backgrounds[i].y = -BG_IMAGE_HEIGHT. Every background has a velocity, the first pair is slower than the others pairs in order to achieve a parallax effect. </p>

</div>
</div>
<a class="anchor" id="a1fbd76de8faf2a0b9555972a05caac2d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InitGame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structGame.html">Game</a> &amp;&#160;</td>
          <td class="paramname"><em>game</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structPlayer.html">Player</a> &amp;&#160;</td>
          <td class="paramname"><em>player</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes all the allegro's components including keybord, a display, a queue, four timers, a font and all the bitmaps. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">game</td><td>is the current game session which has all the necessary variables for the gameplay </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">player</td><td>is the object that we can move and play with</td></tr>
  </table>
  </dd>
</dl>
<p>If something couldn't be initialize the game stops with an error that help the developer in finding the problem. This function uses assertions to handle errors. </p>

</div>
</div>
<a class="anchor" id="a3da88101d93b7b2be633a258268a7404"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QuitGame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structPlayer.html">Player</a> &amp;&#160;</td>
          <td class="paramname"><em>player</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structGame.html">Game</a> &amp;&#160;</td>
          <td class="paramname"><em>game</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Saves a new record if we have made one (by calling <a class="el" href="GameManager_8h.html#acd330ec0adc07958ffeba6ae40d6bf14" title="Saves the new record in a file. ">WriteRecord</a>) than destroys everything and quits the game. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">player</td><td>is used to clear all the player's bullets </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">game</td><td>is used in order to access to the game's points to find if we have made a new record and to clear all the enemies</td></tr>
  </table>
  </dd>
</dl>
<p>This function uses assertions to handle errors. </p>

</div>
</div>
<a class="anchor" id="a345b3f9e9eb268fa6e827ef3c34912ba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int RecordExist </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if a previous record exists and returns it. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns an int that represent the record if it exist, if it doesn't exist the function returns 0</dd></dl>
<p>Checks if a previous record exist by searching it in a file, if it doesn't exist returns 0 </p>

</div>
</div>
<a class="anchor" id="aa90dc09726aeb7838e59622f0f177c8d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Render </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structPlayer.html">Player</a> &amp;&#160;</td>
          <td class="paramname"><em>player</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structGame.html">Game</a> &amp;&#160;</td>
          <td class="paramname"><em>game</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>Draw</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Renders every object on the screen by using the double buffer technique. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">player</td><td>is used to draw the player and its bullets to the correct position </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">game</td><td>is used to draw the background, enemies, explosions and the scoreboard </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Draw</td><td>is used to check if we need to re-draw everything (we have to draw after <a class="el" href="GameManager_8h.html#a1ec3f8b608c30564c8ab4adbf50bbc5f" title="Handle all the input and timers events of the game. ">EventManager</a> is called)</td></tr>
  </table>
  </dd>
</dl>
<p>After the render finishes Draw is set to false in order to wait for all the updates of <a class="el" href="GameManager_8h.html#a1ec3f8b608c30564c8ab4adbf50bbc5f" title="Handle all the input and timers events of the game. ">EventManager</a> to do another draw. </p>

</div>
</div>
<a class="anchor" id="aaac98233874f29cd2c81b88ac53d5c2a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UpdateBackgrounds </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structGame.html">Game</a> &amp;&#160;</td>
          <td class="paramname"><em>game</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Moves the backgrounds from top to bottom, than it calls <a class="el" href="GameManager_8h.html#af483bca47c69c484c7a26ad7d00e0d87" title="Checks if the background is at the bottom of the screen, in this case the function moves it outside t...">CheckBgLimit</a> to check if background y coord is valid. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">game</td><td>is used to access to the backgrounds' list </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7de1ff07adda835e1d467add21cdbd17"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UpdatePowerUp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structGame.html">Game</a> &amp;&#160;</td>
          <td class="paramname"><em>game</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>velocity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>visible</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes (visible is true) or destroys (visible is false) a power up at the given x and y and with the specified velocity. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">game</td><td>is used to update powerup transform, including position, velocity and visibility </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">x</td><td>is the x coord where we have to place the powerup </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">y</td><td>is the y coord where we have to place the powerup </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">velocity</td><td>is the velocity we have to assign to the powerup </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">visible</td><td>is a bool which indicates if we have to initialize (visible is true) or destroy (visible is false) the powerup </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a2b947a08ba99971d8f6c6608e9518b60"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UpdatePowerUpEffect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structGame.html">Game</a> &amp;&#160;</td>
          <td class="paramname"><em>game</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>activated</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enables or disables the powerup effect. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">game</td><td>is used to access to the powerup effect state </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">activated</td><td>is used to enable/disable the powerup's effect</td></tr>
  </table>
  </dd>
</dl>
<p>If the powerup is disabled this function removes it </p>

</div>
</div>
<a class="anchor" id="acd330ec0adc07958ffeba6ae40d6bf14"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WriteRecord </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structGame.html">Game</a> &amp;&#160;</td>
          <td class="paramname"><em>game</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Saves the new record in a file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">game</td><td>is used in order to access to the game's points which are a new record if this function is called</td></tr>
  </table>
  </dd>
</dl>
<p>The function creates or updates the file which stores the record in order to save the new highscore </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Jun 27 2015 15:37:51 for Space Invaders by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
